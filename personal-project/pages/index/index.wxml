<!-- index.wxml -->
<!-- popupåŒºåŸŸ -->
<van-popup show="{{ show }}" position="top" custom-style="height:50%" bind:close="onClose">
  <van-datetime-picker type="date" value="{{ currentDate }}" bind:input="onInput" bind:confirm="confirmDate" bind:cancel="cancelPicker" min-date="{{ minDate }}"></van-datetime-picker>
</van-popup>
<!-- é¡¶éƒ¨æ—¥æœŸé€‰æ‹©å™¨ -->
<!-- ä½¿ç”¨vant-weappå¸ƒå±€ -->
<van-row class="headerbar">
  <!-- å·¦ç®­å¤´ é€‰æ‹©å‰ä¸€ä¸ªæ—¥æœŸ -->
  <van-col span="6">
    <view style="font-size: 1.5em" bindtap="dateBack">
      ğŸ”™
    </view>
  </van-col>
  <!-- æ—¥æœŸé€‰æ‹©å™¨ -->
  <van-col span="12">
    <van-button type="info" bindtap="showPopup" custom-style="width:100%;height:2em">
      {{ year }}å¹´{{ month }}æœˆ{{ day }}æ—¥
    </van-button>
  </van-col>
  <!-- å³ç®­å¤´ é€‰æ‹©åä¸€ä¸ªæ—¥æœŸ -->
  <van-col span="6">
    <view style="font-size: 1.5em" bindtap="dateForward">
      ğŸ”œ
    </view>
  </van-col>
</van-row>
<!-- ä¸­é—´ä¿¡æ¯å±•ç¤ºéƒ¨åˆ† -->
<van-row class="body-form">
  <view class="alter-text {{ hasContent?'hide':'' }}">èµ¶ç´§å¼€å§‹è®°è´¦ï¸å§ğŸˆ</view>
  <view wx:for="{{ interface }}" wx:key="*this">
    <van-swipe-cell right-width="{{ 65 }}">
      <van-cell-group>
        <van-cell title="{{ item.category }} {{ item.emoji }}" value="{{ item.number }} ğŸ’°" />
      </van-cell-group>
      <view slot="right" class="right-cell" bindtap="deleteItem" data-id="{{ item.id }}"><view>åˆ é™¤</view></view>
    </van-swipe-cell>
  </view>
</van-row>
<!-- åº•éƒ¨tabbar -->
<van-row class="bottom-bar">
  <view class="cu-bar tabbar bg-black">
    <view class="action text-blue">
      <navigator url="../index/index" open-type="redirect"><view class="cuIcon-edit"></view>ä¿¡æ¯</navigator>
    </view>
    <view class="action text-gray add-action">
      <button class="cu-btn cuIcon-add bg-blue shadow" bindtap="showBottom"></button>
      è®°å½•
    </view>
    <view class="action text-gray">
      <navigator url="../stats/stats" open-type="redirect"><view class="cuIcon-rankfill"></view>ç»Ÿè®¡</navigator>
    </view>
  </view>
</van-row>
<!-- åº•éƒ¨è®°å½•å¼¹æ¡† -->
<van-popup show="{{ bottomShow }}" position="bottom" custom-style="height:70%" bind:close="bottomOnClose">
  <!-- ä¿¡æ¯æ¡† -->
  <view class="info-grid">
    <van-field value="{{ inputNumber }}" class="input-box" label="ï¿¥" input-align="right" custom-style="font-size:2em;padding-top:1em;" readonly></van-field>
    <view class="grid col-5 padding-sm">
      <view class="margin-tb-sm text-center" wx:for="{{categoryList}}" wx:for-index="idx" wx:key="*this">
        <button class="cu-btn round {{ item.pick?'bg':'line' }}-blue" bindtap="pickCategory" data-ctg="{{ idx }}">
          <text class="cuIcon-{{item.icon}}"></text>
        </button>
        <view>{{item.title}}</view>
      </view>
    </view>
  </view>
  <!-- æ•°å­—è¾“å…¥æ¡† -->
  <view class="number-grid">
    <view class="number-item">
      <van-button plain type="default" size="large" custom-style="height:100%" bind:click="operateOnNumber" data-num="7">
        7
      </van-button>
    </view>
    <view class="number-item">
      <van-button plain type="default" size="large" custom-style="height:100%" bind:click="operateOnNumber" data-num="8">
        8
      </van-button>
    </view>
    <view class="number-item">
      <van-button plain type="default" size="large" custom-style="height:100%" bind:click="operateOnNumber" data-num="9">
        9
      </van-button>
    </view>
    <view class="number-item">
      <van-button plain type="default" size="large" custom-style="height:100%" bind:click="operateOnNumber" data-num="-1">
        ğŸ‘ˆ
      </van-button>
    </view>
    <view class="number-item">
      <van-button plain type="default" size="large" custom-style="height:100%" bind:click="operateOnNumber" data-num="4">
        4
      </van-button>
    </view>
    <view class="number-item">
      <van-button plain type="default" size="large" custom-style="height:100%" bind:click="operateOnNumber" data-num="5">
        5
      </van-button>
    </view>
    <view class="number-item">
      <van-button plain type="default" size="large" custom-style="height:100%" bind:click="operateOnNumber" data-num="6">
        6
      </van-button>
    </view>
    <view class="number-item" id="enter">
      <van-button plain type="default" size="large" custom-style="height:100%;background-color:lightblue" bind:click="addItem">
        ğŸ‘Œ
      </van-button>
    </view>
    <view class="number-item">
      <van-button plain type="default" size="large" custom-style="height:100%" bind:click="operateOnNumber" data-num="1">
        1
      </van-button>
    </view>
    <view class="number-item">
      <van-button plain type="default" size="large" custom-style="height:100%" bind:click="operateOnNumber" data-num="2">
        2
      </van-button>
    </view>
    <view class="number-item">
      <van-button plain type="default" size="large" custom-style="height:100%" bind:click="operateOnNumber" data-num="3">
        3
      </van-button>
    </view>
    <view class="number-item" id="zero">
      <van-button plain type="default" size="large" custom-style="height:100%" bind:click="operateOnNumber" data-num="0">
        0
      </van-button>
    </view>
    <view class="number-item">
      <van-button plain type="default" size="large" custom-style="height:100%" bind:click="operateOnNumber" data-num="-2">
        .
      </van-button>
    </view>
  </view>
</van-popup>
